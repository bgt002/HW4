<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CSE 134B HW4 Simple Dialogs</title>
        <meta name = "Author" content = "Brian Tran">
        <script type="text/javascript" src="/node_modules/dompurify/dist/purify.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.js" integrity="sha512-TRW4uJEyH03RBYDDP/0Nerf3y1zPCPzmLBq5IwjYtUyPD505Aro7Xh6ELpKmnH3yeKj6MP3meheJMJXB4aN0eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    </head>
    
    <main>
        <body>
            <h1>Native Dialogs:</h1>
            <button id="alertBtn">Alert</button>
            <button id="confirmBtn">Confirm</button>
            <button id="promptBtn">Prompt</button>
            <button id="saferPromptBtn">Safer Prompt</button>
            <hr>
            <p id="textOutput"></p>
    
            <script>
                const alertElement = document.getElementById("alertBtn");
                const confirmElement = document.getElementById("confirmBtn");
                const promptElement = document.getElementById("promptBtn");
                const saferPromptElement = document.getElementById("saferPromptBtn");
    
    
                alertElement.addEventListener("click", alertBtnMsg);
                confirmElement.addEventListener("click", confirmBtnMsg);
                promptElement.addEventListener("click", promptBtnMsg);
                saferPromptElement.addEventListener("click", saferPromptBtnMsg);
    
                
                function alertBtnMsg(){
                    alert("Alert!");
                }
    
                function confirmBtnMsg(){
                    let confirmMsg = "Do you confirm this?"
                    if(confirm(confirmMsg) == true){
                        confirmMsg = "Confirm Result: True"
                    }
                    else{
                        confirmMsg = "Confirm Result: False"
                    }
                    document.getElementById("textOutput").innerHTML = confirmMsg;
                }
    
                function promptBtnMsg(){
                    var userAnswer = prompt("What is your name?");
                    if(userAnswer == null || userAnswer == ""){
                        document.getElementById("textOutput").innerHTML = "User didn't input anything";
    
                    }
                    else{
                        document.getElementById("textOutput").innerHTML = `Prompt Result: ${userAnswer}`;
                    }
                }
    
                function saferPromptBtnMsg(){
                    var userAnswer = prompt("What is your name?");
                    if(userAnswer == null || userAnswer == ""){
                        document.getElementById("textOutput").innerHTML = "User didn't input anything";
                    }
                    else{
                        let purified = DOMPurify.sanitize(userAnswer)
                        document.getElementById("textOutput").innerHTML = `Prompt Result: ${purified}`;
                    }
                }
            </script>
        </body>
    </main>
</html>